{% extends 'admin/master.html' %}

{% block head_css %}
{{ super() }}
<style>
  /* 全局背景样式 */
  body {
    background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
    background-attachment: fixed;
    background-size: cover;
    min-height: 100vh;
  }
  
  /* 导航栏样式优化 */
  .navbar-default {
    background-color: rgba(255, 255, 255, 0.9) !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    border: none;
  }
  
  /* 内容区域样式 */
  .admin-content {
    background-color: rgba(255, 255, 255, 0.8);
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    padding: 20px;
    margin-bottom: 20px;
  }
  
  /* 表格样式优化 */
  .model-list {
    background-color: #fff;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }
  
  /* 表单样式优化 */
  .form-horizontal {
    background-color: #fff;
    padding: 20px;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }
  
  /* 按钮样式优化 */
  .btn {
    border-radius: 4px;
    font-weight: 500;
  }
</style>
{% endblock %}

{% block body %}
<div class="container-fluid px-4 py-3">
  <div class="jumbotron bg-light shadow-sm rounded p-4 mb-4">
    <h1 class="display-4 text-primary">欢迎使用实验室仪器设备管理系统</h1>
    <p class="lead text-secondary">本系统支持设备信息管理、维护、借用、归还、统计报表、消息提醒等功能，助力实验室高效管理。</p>
    <hr class="my-4">
    <p>选择下方功能模块，开始使用系统</p>
    
    <!-- 系统通知列表 -->
    {% if notices %}
    <div class="card mb-4 shadow-sm">
      <div class="card-header bg-light">
        <h5 class="mb-0"><i class="fas fa-bell text-danger mr-2"></i>系统通知</h5>
      </div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-hover mb-0">
            <thead class="thead-light">
              <tr>
                <th>标题</th>
                <th>内容</th>
                <th>时间</th>
              </tr>
            </thead>
            <tbody>
              {% for notice in notices %}
              <tr>
                <td>{{ notice.title }}</td>
                <td>{{ notice.content }}</td>
                <td>{{ notice.time }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <div class="card-footer text-right">
        <a href="{{ url_for('notice.index_view') }}" class="btn btn-sm btn-outline-primary">查看所有通知</a>
      </div>
    </div>
    {% endif %}
  </div>
  
  <div class="row mb-4">
    <div class="col-md-3 mb-4">
      <div class="card text-center h-100 shadow-sm hover-card">
        <div class="card-header bg-primary text-white">
          <i class="fas fa-microscope fa-2x my-2"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">设备信息</h5>
          <p class="card-text flex-grow-1">查看和管理所有实验室设备</p>
          <a href="{{ url_for('equipment.index_view') }}" class="btn btn-outline-primary mt-auto">进入管理</a>
        </div>
      </div>
    </div>
    
    <div class="col-md-3 mb-4">
      <div class="card text-center h-100 shadow-sm hover-card">
        <div class="card-header bg-info text-white">
          <i class="fas fa-tools fa-2x my-2"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">维护记录</h5>
          <p class="card-text flex-grow-1">维护计划与历史记录管理</p>
          <a href="{{ url_for('maintenance.index_view') }}" class="btn btn-outline-info mt-auto">进入管理</a>
        </div>
      </div>
    </div>
    
    <div class="col-md-3 mb-4">
      <div class="card text-center h-100 shadow-sm hover-card">
        <div class="card-header bg-success text-white">
          <i class="fas fa-exchange-alt fa-2x my-2"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">去向记录</h5>
          <p class="card-text flex-grow-1">设备借用与归还全流程</p>
          <a href="{{ url_for('borrowlist.index_view') }}" class="btn btn-outline-success mt-auto">进入管理</a>
        </div>
      </div>
    </div>
    
    <div class="col-md-3 mb-4">
      <div class="card text-center h-100 shadow-sm hover-card">
        <div class="card-header bg-danger text-white">
          <i class="fas fa-bell fa-2x my-2"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">通知</h5>
          <p class="card-text flex-grow-1">系统消息与提醒管理</p>
          <a href="{{ url_for('notice.index_view') }}" class="btn btn-outline-danger mt-auto">进入管理</a>
        </div>
      </div>
    </div>
  </div>
  
  <div class="row mb-4">
    <div class="col-md-3 mb-4">
      <div class="card text-center h-100 shadow-sm hover-card">
        <div class="card-header bg-warning text-white">
          <i class="fas fa-chart-bar fa-2x my-2"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">统计报表</h5>
          <p class="card-text flex-grow-1">设备状态、维护、借用等统计</p>
          <a href="{{ url_for('report.index') }}" class="btn btn-outline-warning mt-auto">查看报表</a>
        </div>
      </div>
    </div>
    
    <div class="col-md-3 mb-4">
      <div class="card text-center h-100 shadow-sm hover-card">
        <div class="card-header bg-purple text-white">
          <i class="fas fa-users fa-2x my-2"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">用户管理</h5>
          <p class="card-text flex-grow-1">管理系统用户及权限</p>
          <a href="{{ url_for('user.index_view') }}" class="btn btn-outline-purple mt-auto">进入管理</a>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .container-fluid {
    max-width: 1400px;
    margin: 0 auto;
  }
  .hover-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    background-color: rgba(255, 255, 255, 0.9);
  }
  .hover-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
  }
  .card-header {
    padding: 0.75rem 1.25rem;
  }
  .jumbotron {
    border: none;
    background-color: rgba(255, 255, 255, 0.9) !important;
  }
  /* 确保导航栏和内容区域对齐 */
  .admin-header {
    padding: 0 1rem;
  }
  .navbar {
    padding-left: 0;
    padding-right: 0;
  }
  /* 自定义紫色按钮样式 */
  .bg-purple {
    background-color: #6f42c1;
  }
  
</style>

<!-- 确保页面中包含Font Awesome图标 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
{% endblock %} 